<fa-icon [hidden]="role !== 'admin'" icon="plus" (click)="tickSettings(tradingModal)"></fa-icon>

<ng-template #tradingModal class="modal-sm">
  <div class="modal-body">
    <div class="row">
      <div class="col-12">
        <h3>{{ tick.pair }}</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <tabset>
          <tab heading="Exchange">
            <form novalidate [formGroup]="exchangeForm" class="mt-3">
              <div class="form-group">
                <label for="exchange_o_type"></label>
                <select class="form-control" id="exchange_o_type" formControlName="o_type">
                  <option value="limit">Limit</option>
                  <option value="market">Market</option>
                  <option value="stop">Stop</option>
                </select>
              </div>

              <div class="form-row">
                <div class="form-group col">
                  <input
                    [attr.disabled]="exchangeForm.value.o_type === 'market' ? '' : null"
                    type="number"
                    class="form-control"
                    placeholder="Price"
                    formControlName="price"
                  >
                </div>
                <div class="form-group col">
                  <input type="number" class="form-control" placeholder="Amount" formControlName="amount">
                </div>
              </div>
              <div>
                <button
                  type="submit"
                  class="btn btn-success"
                  (click)="buyExchange(exchangeForm.value, exchangeForm.valid)"
                >BUY</button>
                <button
                  type="submit"
                  class="btn btn-danger float-right"
                  (click)="sellExchange(exchangeForm.value, exchangeForm.valid)"
                >SELL</button>
              </div>
            </form>
          </tab>

          <tab heading="Margin">
            <form novalidate [formGroup]="marginForm" class="mt-3">
              <div class="form-group">
                <label for="margin_o_type"></label>
                <select class="form-control" id="margin_o_type" formControlName="o_type">
                  <option value="limit">Limit</option>
                  <option value="market">Market</option>
                  <option value="stop">Stop</option>
                </select>
              </div>

              <div class="form-row">
                <div class="form-group col">
                  <input
                    [attr.disabled]="marginForm.value.o_type === 'market' ? '' : null"
                    type="number"
                    class="form-control"
                    placeholder="Price"
                    formControlName="price"
                  >
                </div>
                <div class="form-group col">
                  <input type="number" class="form-control" placeholder="Amount" formControlName="amount">
                </div>
              </div>

              <div>
                <button
                  type="submit"
                  class="btn btn-success"
                  (click)="buyMargin(marginForm.value, marginForm.valid)"
                >BUY</button>
                <button
                  type="submit"
                  class="btn btn-danger float-right"
                  (click)="sellMargin(marginForm.value, marginForm.valid)"
                >SELL</button>
              </div>
            </form>
          </tab>
        </tabset>
      </div>
    </div>
  </div>
</ng-template>
