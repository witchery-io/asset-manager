import { Component, OnInit, TemplateRef } from '@angular/core';
import { BsModalRef, BsModalService } from 'ngx-bootstrap';
import { GroupsService } from '../../services/groups.service';
import { AccountService } from '../../services/account.service';
import { ActivatedRoute, Router } from '@angular/router';
import { TickService } from '../../services/tick.service';
import { FormControl, FormGroup, Validators } from '@angular/forms';
import { Margin } from '../../models/margin';
import { Exchange } from '../../models/exchange';
import { Order } from '../../models/order';
import { OrderService } from '../../services/order.service';
import * as Highcharts from 'highcharts/highstock';
import * as HC_annotations from 'highcharts/modules/annotations';
import * as HC_drag from 'highcharts/modules/drag-panes';
// import * as HC_data from 'highcharts/modules/annotations';
// import * as HC_avocado from 'highcharts/modules/annotations';
HC_annotations(Highcharts);
HC_drag(Highcharts);
// HC_data(Highcharts);
// HC_avocado(Highcharts);

@Component({
  selector: 'app-trading',
  templateUrl: './trading.component.html',
  styleUrls: ['./trading.component.scss'],
})
export class TradingComponent implements OnInit {

  Highcharts = Highcharts;
  chartOptions = {

    chart: {
      type: 'candlestick',
      zoomType: 'x',
      events: {
        load: function () {

        }
      }
    },

    title: {
      text: 'BTCUSD'
    },

    rangeSelector: {
      buttons: [{
        type: 'second',
        count: 30,
        text: '30s'
      }, {
        type: 'minute',
        count: 1,
        text: '1m'
      }, {
        type: 'minute',
        count: 15,
        text: '15m'
      }, {
        type: 'minute',
        count: 30,
        text: '30m'
      }, {
        type: 'all',
        text: 'All'
      }],
      inputEnabled: false, // it supports only days
      selected: 3 // all
    },

    series: [{
      data: [
        [
          1538492400000,
          6552.2,
          6552.1,
          6537.9,
          6552.1,
          8891.89174469
        ],
        [
          1538494200000,
          6560.4,
          6560.4,
          6552.1,
          6560,
          8920.27442166
        ],
        [
          1538496000000,
          6539.4,
          6560.1,
          6539.4,
          6539.3,
          8899.29013086
        ],
        [
          1538497800000,
          6531.6,
          6542.8,
          6527.4,
          6531.5,
          8784.90308574
        ],
        [
          1538499600000,
          6523.9,
          6545.9,
          6518.1,
          6523.8,
          8879.99594913
        ],
        [
          1538501400000,
          6533.2,
          6535.1,
          6504,
          6533.1,
          10087.373187
        ],
        [
          1538503200000,
          6542,
          6555.2,
          6530.3,
          6541.9,
          10239.01850166
        ],
        [
          1538505000000,
          6568.9,
          6569.7,
          6541.7,
          6566.8,
          10487.19230138
        ],
        [
          1538506800000,
          6565.1,
          6585.4,
          6557.4,
          6565,
          10674.83474067
        ],
        [
          1538508600000,
          6560.1,
          6566,
          6560.1,
          6560,
          10561.38836589
        ],
        [
          1538510400000,
          6564.1,
          6575.9,
          6560,
          6564,
          10573.78695303
        ],
        [
          1538512200000,
          6557.6,
          6568.2,
          6557.5,
          6557.5,
          10556.2039222
        ],
        [
          1538514000000,
          6560.4,
          6560.3,
          6550.7,
          6560.3,
          11601.6359293
        ],
        [
          1538515800000,
          6559.4,
          6563.1,
          6559.4,
          6559.3,
          11471.8964495
        ],
        [
          1538550000000,
          6476.1,
          6476,
          6475.9,
          6476,
          14567.95434745
        ],
        [
          1538551800000,
          6462.2,
          6476.1,
          6462.2,
          6462.1,
          14902.33259579
        ],
        [
          1538553600000,
          6455.1,
          6464.1,
          6455.1,
          6455,
          14944.53423205
        ],
        [
          1538555400000,
          6458.5,
          6463.9,
          6452.6,
          6458.4,
          15288.61869627
        ],
        [
          1538557200000,
          6458.9,
          6462.3,
          6454.2,
          6458.8,
          15302.11445479
        ],
        [
          1538559000000,
          6462.7,
          6462.6,
          6450,
          6462.6,
          15321.38199397
        ],
        [
          1538560800000,
          6488.1,
          6490.8,
          6463.1,
          6488,
          15555.7866785
        ],
        [
          1538562600000,
          6488.2,
          6505,
          6486.2,
          6488.1,
          15855.17038208
        ],
        [
          1538564400000,
          6494.1,
          6494,
          6480.1,
          6494,
          15907.18948204
        ],
        [
          1538566200000,
          6497.1,
          6502.5,
          6493.1,
          6497,
          16104.82674435
        ],
        [
          1538568000000,
          6493.3,
          6494.8,
          6493.3,
          6493.2,
          15946.61136011
        ],
        [
          1538569800000,
          6483.3,
          6493.3,
          6483.3,
          6483.2,
          15586.61070283
        ],
        [
          1538571600000,
          6490.1,
          6490,
          6464.1,
          6490,
          15521.69995752
        ],
        [
          1538573400000,
          6489.2,
          6497.6,
          6489.2,
          6489.1,
          15612.31478204
        ],
        [
          1538575200000,
          6506.1,
          6506.5,
          6478.9,
          6506,
          15688.92771887
        ],
        [
          1538577000000,
          6528,
          6551,
          6505.6,
          6527.9,
          16570.38642016
        ],
        [
          1538578800000,
          6515,
          6542.2,
          6515,
          6514.9,
          16840.37283847
        ],
        [
          1538580600000,
          6507.2,
          6515,
          6505,
          6507.1,
          16865.11250882
        ],
        [
          1538582400000,
          6508.7,
          6522.5,
          6504.8,
          6508,
          16934.22596084
        ],
        [
          1538584200000,
          6514.9,
          6516.8,
          6498.7,
          6514.8,
          16720.06302114
        ],
        [
          1538586000000,
          6515.2,
          6515.1,
          6505.1,
          6515.1,
          16569.90278167
        ],
        [
          1538587800000,
          6511.4,
          6528.9,
          6511.4,
          6511.1,
          15478.65394526
        ],
        [
          1538589600000,
          6483.7,
          6511.2,
          6483.7,
          6483.6,
          15403.45404608
        ],
        [
          1538591400000,
          6495.7,
          6495.6,
          6479.1,
          6495.6,
          15186.46984056
        ],
        [
          1538593200000,
          6467,
          6497.4,
          6459,
          6466.9,
          15463.15668841
        ],
        [
          1538595000000,
          6473.4,
          6479.7,
          6456.9,
          6473.3,
          15513.1775432
        ],
        [
          1538596800000,
          6474.9,
          6477.6,
          6467.4,
          6474.8,
          15464.10431308
        ],
        [
          1538598600000,
          6480.8,
          6489.7,
          6471.9,
          6480.7,
          15467.30640066
        ],
        [
          1538600400000,
          6485,
          6492.9,
          6483.6,
          6484.7,
          14259.15109216
        ],
        [
          1538602200000,
          6449.9,
          6490.1,
          6449.9,
          6449.7,
          14960.43321517
        ],
        [
          1538604000000,
          6473.5,
          6473.4,
          6445.7,
          6473.4,
          15099.22550544
        ],
        [
          1538605800000,
          6476.7,
          6477.4,
          6464.2,
          6476.4,
          15088.60345856
        ],
        [
          1538607600000,
          6520.1,
          6520,
          6477.8,
          6520,
          15062.7986597
        ],
        [
          1538609400000,
          6503.2,
          6529.9,
          6503.2,
          6503.1,
          14568.1277498
        ],
        [
          1538611200000,
          6507.1,
          6507,
          6499.4,
          6507,
          14293.24253273
        ],
        [
          1538613000000,
          6526.4,
          6535.3,
          6507,
          6526.3,
          14321.66268474
        ],
        [
          1538614800000,
          6610.9,
          6645.6,
          6526.3,
          6610.8,
          17137.07087597
        ],
        [
          1538616600000,
          6590,
          6640,
          6590,
          6589.9,
          17711.0784625
        ],
        [
          1538618400000,
          6589.1,
          6603.7,
          6589.1,
          6589,
          17140.4603048
        ],
        [
          1538620200000,
          6601,
          6600.9,
          6589,
          6600.9,
          16962.42897908
        ],
        [
          1538622000000,
          6597.9,
          6614.7,
          6597.9,
          6597.8,
          15776.55044754
        ],
        [
          1538623800000,
          6601,
          6605.3,
          6597.8,
          6600.9,
          15387.74408924
        ],
        [
          1538625600000,
          6613.1,
          6619.8,
          6600.3,
          6613,
          15271.49456244
        ],
        [
          1538627400000,
          6610.6,
          6614.1,
          6605.3,
          6610.5,
          15377.98770985
        ],
        [
          1538629200000,
          6605.4,
          6614.9,
          6605.4,
          6605.3,
          15286.32366214
        ],
        [
          1538631000000,
          6591.1,
          6605.4,
          6583.3,
          6591,
          15641.55600884
        ],
        [
          1538632800000,
          6590,
          6600,
          6584.3,
          6589.9,
          15681.4467765
        ],
        [
          1538634600000,
          6581.2,
          6590,
          6579.1,
          6581.1,
          15608.1752313
        ],
        [
          1538636400000,
          6590,
          6591.9,
          6584.5,
          6589.9,
          15524.32756084
        ],
        [
          1538638200000,
          6579.6,
          6590,
          6570,
          6579.5,
          15763.00900806
        ],
        [
          1538640000000,
          6614,
          6613.9,
          6579.5,
          6613.9,
          16076.15933541
        ],
        [
          1538641800000,
          6616.3,
          6616.3,
          6616.2,
          6616.2,
          16081.15201541
        ],
        [
          1538649000000,
          6570.3,
          6612.5,
          6570,
          6570.2,
          14780.20334008
        ],
        [
          1538650800000,
          6580,
          6586.3,
          6570.2,
          6579.9,
          14879.97081406
        ],
        [
          1538652600000,
          6564.3,
          6580.9,
          6564.3,
          6564.2,
          14834.60951265
        ],
        [
          1538654400000,
          6573.9,
          6574.9,
          6562,
          6573.8,
          14923.82519367
        ],
        [
          1538656200000,
          6572,
          6573.9,
          6572,
          6571.9,
          14807.80032359
        ],
        [
          1538658000000,
          6578.6,
          6578.5,
          6571.9,
          6578.5,
          14553.89921403
        ],
        [
          1538659800000,
          6580.8,
          6583,
          6576.7,
          6580.7,
          14355.20839655
        ],
        [
          1538661600000,
          6581.6,
          6581.5,
          6576.6,
          6581.5,
          13967.63393409
        ],
        [
          1538663400000,
          6580.1,
          6588.2,
          6580.1,
          6580,
          13163.87625602
        ],
        [
          1538665200000,
          6590,
          6589.9,
          6575.3,
          6589.9,
          12812.78704807
        ],
        [
          1538667000000,
          6594,
          6593.9,
          6589.9,
          6593.9,
          12618.48351272
        ],
        [
          1538668800000,
          6595,
          6597.8,
          6593.9,
          6594.9,
          12647.36214448
        ],
        [
          1538670600000,
          6585,
          6595,
          6585,
          6584.9,
          12601.76330928
        ],
        [
          1538672400000,
          6587.2,
          6588.4,
          6584.9,
          6587.1,
          12558.95405582
        ],
        [
          1538674200000,
          6588.5,
          6588.4,
          6587.1,
          6588.4,
          12485.45626691
        ],
        [
          1538676000000,
          6606.2,
          6609.9,
          6588.4,
          6606.1,
          12514.77440977
        ],
        [
          1538677800000,
          6604.1,
          6610.6,
          6598.7,
          6604,
          12490.7488471
        ],
        [
          1538679600000,
          6611.1,
          6611.2,
          6604,
          6611,
          12459.96132959
        ],
        [
          1538681400000,
          6605.4,
          6611.1,
          6604.2,
          6605.3,
          11925.90685412
        ],
        [
          1538683200000,
          6587.4,
          6605.4,
          6580.7,
          6587.3,
          12003.49897342
        ],
        [
          1538685000000,
          6592.1,
          6592.2,
          6587.3,
          6592,
          11984.77923863
        ],
        [
          1538686800000,
          6557.4,
          6592.1,
          6551.4,
          6557.3,
          12464.46058583
        ],
        [
          1538688600000,
          6586.8,
          6591.8,
          6557.3,
          6586.7,
          12598.23860975
        ],
        [
          1538690400000,
          6597,
          6606,
          6586.7,
          6596.9,
          12006.47066355
        ],
        [
          1538692200000,
          6588.9,
          6598,
          6587.3,
          6587.7,
          11940.94726784
        ],
        [
          1538694000000,
          6587.9,
          6594.7,
          6587.7,
          6587.8,
          11858.25103196
        ],
        [
          1538695800000,
          6591.1,
          6592.3,
          6580.1,
          6591,
          11603.5113822
        ],
        [
          1538697600000,
          6616.4,
          6617.9,
          6591,
          6616.3,
          11786.85355328
        ],
        [
          1538699400000,
          6626,
          6625.9,
          6616.3,
          6625.9,
          11890.77079225
        ],
        [
          1538701200000,
          6606.9,
          6626,
          6604.3,
          6606.8,
          9676.75412536
        ],
        [
          1538703000000,
          6610.1,
          6610.7,
          6604.4,
          6610,
          8505.86272267
        ],
        [
          1538704800000,
          6576,
          6610.1,
          6553.3,
          6575.9,
          9492.61616284
        ],
        [
          1538706600000,
          6563.3,
          6576,
          6548.1,
          6563.2,
          9535.03379959
        ],
        [
          1538708400000,
          6577.4,
          6577.3,
          6563.2,
          6577.3,
          9487.48905962
        ],
        [
          1538710200000,
          6570.7,
          6578.2,
          6567.4,
          6570.6,
          9522.67479815
        ],
        [
          1538712000000,
          6578.5,
          6578.5,
          6570.6,
          6578.4,
          9541.37424027
        ],
        [
          1538713800000,
          6577.1,
          6578.5,
          6576.1,
          6577,
          9384.53972949
        ],
        [
          1538715600000,
          6563.4,
          6577.1,
          6563.4,
          6563.3,
          9334.84030505
        ],
        [
          1538717400000,
          6571.6,
          6571.5,
          6563.3,
          6571.5,
          8969.88382911
        ],
        [
          1538719200000,
          6599.5,
          6600,
          6571.5,
          6597.9,
          9401.61546178
        ],
        [
          1538721000000,
          6601.1,
          6605.2,
          6596.9,
          6601,
          9925.61396827
        ],
        [
          1538722800000,
          6581.1,
          6601.1,
          6581.1,
          6581,
          10193.48820191
        ],
        [
          1538724600000,
          6573.4,
          6581.1,
          6568.4,
          6573.3,
          10341.94622298
        ],
        [
          1538726400000,
          6577.4,
          6584.5,
          6572.9,
          6576,
          9577.85499572
        ],
        [
          1538728200000,
          6570.1,
          6579.1,
          6570.1,
          6570,
          9364.65877452
        ],
        [
          1538730000000,
          6572,
          6574.6,
          6569,
          6571.9,
          9394.96207055
        ],
        [
          1538731800000,
          6571.9,
          6572,
          6570.7,
          6571.8,
          9448.22895276
        ],
        [
          1538733600000,
          6576.9,
          6583.7,
          6571.8,
          6576.8,
          9506.25333543
        ],
        [
          1538735400000,
          6571.1,
          6577.2,
          6570.8,
          6571,
          9329.00307309
        ],
        [
          1538737200000,
          6595.5,
          6596.6,
          6571,
          6595.4,
          9299.86667835
        ],
        [
          1538739000000,
          6587.5,
          6595.5,
          6587.5,
          6587.4,
          9175.59927058
        ],
        [
          1538740800000,
          6584.4,
          6588.6,
          6584.4,
          6584.3,
          8931.25803699
        ],
        [
          1538742600000,
          6582.5,
          6584.4,
          6579.1,
          6582.4,
          8978.6358201
        ],
        [
          1538744400000,
          6590.5,
          6592.7,
          6582.4,
          6590.2,
          9015.61433254
        ],
        [
          1538746200000,
          6593.2,
          6599.9,
          6590.2,
          6593.1,
          9001.73033702
        ],
        [
          1538748000000,
          6595,
          6594.9,
          6588.4,
          6594.9,
          8949.36408346
        ],
        [
          1538749800000,
          6593.8,
          6597.9,
          6593.8,
          6593.7,
          8841.28134899
        ],
        [
          1538751600000,
          6593.8,
          6593.8,
          6593.7,
          6593.7,
          8745.92277964
        ],
        [
          1538753400000,
          6593.5,
          6593.8,
          6593.4,
          6593.4,
          8711.43624789
        ],
        [
          1538755200000,
          6585.7,
          6609.9,
          6582.6,
          6585.2,
          8791.37123417
        ],
        [
          1538757000000,
          6587,
          6586.9,
          6583.3,
          6586.9,
          8702.05819742
        ],
        [
          1538758800000,
          6579.7,
          6588.7,
          6579.7,
          6579.6,
          8713.59209436
        ],
        [
          1538760600000,
          6578.9,
          6579.7,
          6575.9,
          6578.3,
          8739.58419193
        ],
        [
          1538762400000,
          6583.1,
          6586.5,
          6572.7,
          6583,
          8570.76401369
        ],
        [
          1538764200000,
          6582.8,
          6583.1,
          6582,
          6582.7,
          8500.59566626
        ],
        [
          1538766000000,
          6593.6,
          6594.9,
          6582.7,
          6593.5,
          8454.10572153
        ],
        [
          1538767800000,
          6589.5,
          6593.6,
          6589.1,
          6589.4,
          8400.23357012
        ],
        [
          1538769600000,
          6592.2,
          6600,
          6589.4,
          6592.1,
          8356.37221867
        ],
        [
          1538771400000,
          6589.1,
          6594.8,
          6588.8,
          6589,
          8367.44308762
        ],
        [
          1538773200000,
          6595.6,
          6599.7,
          6589,
          6595.5,
          7981.68605149
        ],
        [
          1538775000000,
          6599.7,
          6599.6,
          6595.1,
          6599.6,
          7745.38043001
        ],
        [
          1538776800000,
          6636.2,
          6697.1,
          6599.6,
          6636.1,
          12023.4682794
        ],
        [
          1538778600000,
          6638.1,
          6647.1,
          6625,
          6638,
          12264.72690971
        ],
        [
          1538780400000,
          6635,
          6639.8,
          6625,
          6634.9,
          12383.3446503
        ],
        [
          1538782200000,
          6640.1,
          6645.2,
          6628.8,
          6640,
          12446.9693289
        ],
        [
          1538784000000,
          6639.9,
          6648.1,
          6637.1,
          6638.6,
          12220.99684622
        ],
        [
          1538785800000,
          6623.7,
          6639.7,
          6621.3,
          6623.6,
          12294.41352669
        ],
        [
          1538787600000,
          6628.2,
          6632.8,
          6623.6,
          6628.1,
          12235.9900852
        ],
        [
          1538789400000,
          6625.1,
          6628.2,
          6622.1,
          6625,
          12226.81049249
        ],
        [
          1538791200000,
          6600.7,
          6625.1,
          6580,
          6600.6,
          12105.06853955
        ],
        [
          1538793000000,
          6604,
          6603.9,
          6598.7,
          6603.9,
          11963.8349414
        ],
        [
          1538794800000,
          6608.7,
          6609.9,
          6603.9,
          6608.6,
          11899.84667433
        ],
        [
          1538796600000,
          6605.8,
          6608.7,
          6603.5,
          6605.7,
          11795.20903325
        ],
        [
          1538798400000,
          6608.8,
          6608.7,
          6605,
          6608.7,
          11772.83685996
        ],
        [
          1538800200000,
          6608.8,
          6608.8,
          6608.7,
          6608.7,
          11695.30871072
        ],
        [
          1538802000000,
          6615,
          6615.1,
          6608.7,
          6614.9,
          11657.52253691
        ],
        [
          1538803800000,
          6613.4,
          6615,
          6610,
          6613.3,
          11640.93174982
        ],
        [
          1538805600000,
          6606.4,
          6613.4,
          6606.4,
          6604.6,
          11101.55684591
        ],
        [
          1538807400000,
          6610,
          6613,
          6604.9,
          6609.9,
          10535.57793214
        ],
        [
          1538809200000,
          6615,
          6614.9,
          6609.9,
          6614.9,
          10176.42006796
        ],
        [
          1538811000000,
          6615,
          6619.5,
          6614.9,
          6614.9,
          10032.9871268
        ],
        [
          1538812800000,
          6614.6,
          6616.1,
          6614.6,
          6614.5,
          9969.79949763
        ],
        [
          1538814600000,
          6613.8,
          6614.6,
          6613.8,
          6613.7,
          9974.36442239
        ],
        [
          1538816400000,
          6614.2,
          6615.4,
          6611.8,
          6614.1,
          9981.8615338
        ],
        [
          1538818200000,
          6615,
          6614.9,
          6614.1,
          6614.9,
          9943.45789463
        ],
        [
          1538820000000,
          6625,
          6624.9,
          6614.9,
          6624.9,
          10007.60275708
        ],
        [
          1538821800000,
          6618.5,
          6625,
          6618.5,
          6618.4,
          9987.85203627
        ],
        [
          1538823600000,
          6600,
          6619,
          6595.6,
          6599.9,
          9965.34522264
        ],
        [
          1538825400000,
          6591.5,
          6600,
          6570.9,
          6591.4,
          10435.98253625
        ],
        [
          1538827200000,
          6593,
          6594.1,
          6580.1,
          6592.9,
          10495.50286604
        ],
        [
          1538829000000,
          6590.5,
          6593.4,
          6590.5,
          6590.4,
          10434.21777579
        ],
        [
          1538830800000,
          6575,
          6590.1,
          6563.9,
          6574.9,
          10554.69144261
        ],
        [
          1538832600000,
          6577.2,
          6577.7,
          6570.1,
          6577,
          10552.74548218
        ],
        [
          1538834400000,
          6574.2,
          6576.8,
          6567,
          6574.1,
          10579.19217499
        ],
        [
          1538836200000,
          6584.5,
          6584.6,
          6570.9,
          6584.4,
          10619.48369026
        ],
        [
          1538838000000,
          6590,
          6592.9,
          6578.3,
          6589.9,
          10669.5221067
        ],
        [
          1538839800000,
          6594.8,
          6594.7,
          6589.9,
          6594.7,
          10628.15331341
        ],
        [
          1538841600000,
          6594.1,
          6597.7,
          6594.1,
          6594,
          10381.9183623
        ],
        [
          1538843400000,
          6593.5,
          6594.1,
          6593.5,
          6593.4,
          10396.67108976
        ],
        [
          1538845200000,
          6599.8,
          6600.3,
          6593.3,
          6599.7,
          10475.41983093
        ],
        [
          1538847000000,
          6595.8,
          6600,
          6595.8,
          6595.7,
          10498.222772
        ],
        [
          1538848800000,
          6585.6,
          6595.8,
          6585.6,
          6585.5,
          10635.99549229
        ],
        [
          1538850600000,
          6590.2,
          6590.1,
          6585.5,
          6590.1,
          10653.79607509
        ],
        [
          1538852400000,
          6588.2,
          6589.1,
          6581.5,
          6588.1,
          10753.62169605
        ],
        [
          1538854200000,
          6587.9,
          6588.2,
          6585.4,
          6587.8,
          10769.4078082
        ],
        [
          1538856000000,
          6590.1,
          6595.7,
          6579.3,
          6589.3,
          10853.99883477
        ],
        [
          1538857800000,
          6596.7,
          6597.1,
          6586.1,
          6596.6,
          10909.29720542
        ],
        [
          1538859600000,
          6595.2,
          6596.7,
          6594.3,
          6595.1,
          10727.65268931
        ],
        [
          1538861400000,
          6602.4,
          6602.5,
          6595.1,
          6602.3,
          10693.8796577
        ],
        [
          1538863200000,
          6586.5,
          6602.4,
          6586.5,
          6586.4,
          6282.62699187
        ],
        [
          1538865000000,
          6588.5,
          6590.3,
          6583.4,
          6588.4,
          6026.21024157
        ],
        [
          1538866800000,
          6588.6,
          6588.5,
          6587.9,
          6588.5,
          5901.48691596
        ],
        [
          1538868600000,
          6595.2,
          6595.1,
          6588.5,
          6595.1,
          5803.04763523
        ],
        [
          1538870400000,
          6593.9,
          6597.9,
          6593.9,
          6593.8,
          5687.43627967
        ],
        [
          1538872200000,
          6598.7,
          6599.6,
          6593.8,
          6598.6,
          5440.64713546
        ],
        [
          1538874000000,
          6591,
          6599.1,
          6588.6,
          6590.9,
          5514.22331109
        ],
        [
          1538875800000,
          6600.6,
          6601.2,
          6592.7,
          6600.5,
          5573.24254436
        ],
        [
          1538877600000,
          6600.1,
          6601.5,
          6600.1,
          6600,
          4226.16957923
        ],
        [
          1538879400000,
          6600,
          6601.5,
          6598.8,
          6599.9,
          4259.35370646
        ],
        [
          1538881200000,
          6600.7,
          6600.8,
          6599.9,
          6600.6,
          4190.28630882
        ],
        [
          1538883000000,
          6601.6,
          6601.5,
          6600.1,
          6601.5,
          4147.71420257
        ],
        [
          1538884800000,
          6600.1,
          6604.9,
          6600.1,
          6600,
          4172.60657929
        ],
        [
          1538886600000,
          6587.5,
          6600.1,
          6587.5,
          6587.4,
          4223.4957637
        ],
        [
          1538888400000,
          6590,
          6600,
          6584,
          6589.9,
          4213.15914598
        ],
        [
          1538890200000,
          6592.4,
          6600,
          6589.4,
          6592.3,
          4192.22127316
        ],
        [
          1538892000000,
          6586,
          6600,
          6586,
          6585.9,
          4164.28563875
        ],
        [
          1538893800000,
          6591.2,
          6600,
          6585.9,
          6591.1,
          4165.03435014
        ],
        [
          1538895600000,
          6576,
          6600,
          6575.9,
          6575.9,
          4308.9815231
        ],
        [
          1538897400000,
          6567.1,
          6600,
          6567.1,
          6567,
          4371.44559648
        ],
        [
          1538899200000,
          6550,
          6600,
          6527.7,
          6549.9,
          5379.46847014
        ],
        [
          1538901000000,
          6550,
          6600.1,
          6550,
          6549.9,
          5583.94276589
        ],
        [
          1538902800000,
          6549.4,
          6600,
          6549.4,
          6549.3,
          5670.73316921
        ],
        [
          1538904600000,
          6558.6,
          6600,
          6549.3,
          6558.5,
          5739.58828091
        ],
        [
          1538906400000,
          6565.8,
          6600,
          6558.5,
          6565.7,
          5650.16455835
        ],
        [
          1538908200000,
          6553.8,
          6600,
          6553.4,
          6553.7,
          5678.16642236
        ],
        [
          1538910000000,
          6561.1,
          6600,
          6553.8,
          6561,
          5545.50081654
        ],
        [
          1538911800000,
          6557.4,
          6600.1,
          6550,
          6557.3,
          5086.46899252
        ],
        [
          1538913600000,
          6550,
          6600.1,
          6548.8,
          6549.9,
          5017.13256652
        ],
        [
          1538915400000,
          6563,
          6600.1,
          6550,
          6562.9,
          5048.59891379
        ],
        [
          1538917200000,
          6570.1,
          6600,
          6561,
          6570,
          4826.1977516
        ],
        [
          1538919000000,
          6573.1,
          6600,
          6570,
          6573,
          4762.58913291
        ],
        [
          1538920800000,
          6562.9,
          6600,
          6560,
          6562.8,
          4778.49035424
        ],
        [
          1538922600000,
          6564.3,
          6600,
          6555.8,
          6564.2,
          4866.80639999
        ],
        [
          1538924400000,
          6574.8,
          6600,
          6564.4,
          6574.7,
          4824.74864452
        ],
        [
          1538926200000,
          6576.5,
          6576.5,
          6574.1,
          6576.4,
          4840.94706557
        ],
        [
          1538928000000,
          6575.2,
          6576.5,
          6571.2,
          6575.1,
          4875.26881987
        ],
        [
          1538929800000,
          6577.7,
          6577.6,
          6573.4,
          6577.6,
          4929.88240803
        ],
        [
          1538931600000,
          6587.8,
          6588.1,
          6577.6,
          6587.7,
          4885.80701374
        ],
        [
          1538933400000,
          6587.8,
          6587.8,
          6587.7,
          6587.7,
          4828.7983716
        ],
        [
          1538935200000,
          6596.8,
          6596.7,
          6587.7,
          6596.7,
          4890.3333713
        ],
        [
          1538937000000,
          6596.8,
          6596.8,
          6596.7,
          6596.7,
          4860.56384979
        ],
        [
          1538938800000,
          6594.2,
          6596.8,
          6594.2,
          6594.1,
          4853.20424915
        ],
        [
          1538940600000,
          6582.4,
          6595,
          6582.4,
          6582.3,
          4901.68903956
        ],
        [
          1538942400000,
          6578.6,
          6582.4,
          6578.6,
          6578.5,
          4762.96865769
        ],
        [
          1538944200000,
          6580,
          6579.9,
          6578.5,
          6579.9,
          4681.87759837
        ],
        [
          1538946000000,
          6578.2,
          6580,
          6578.2,
          6578.1,
          4671.5272856
        ],
        [
          1538947800000,
          6586.5,
          6586.4,
          6577.9,
          6586.4,
          4678.36348927
        ],
        [
          1538949600000,
          6586.1,
          6586.5,
          6585.1,
          6586,
          4653.29536807
        ],
        [
          1538951400000,
          6585.9,
          6586.1,
          6585.1,
          6585.8,
          4687.02046146
        ],
        [
          1538953200000,
          6585.1,
          6585.9,
          6585.1,
          6585,
          4689.72996857
        ],
        [
          1538955000000,
          6609.4,
          6640.3,
          6585,
          6609.3,
          5815.84752757
        ],
        [
          1538956800000,
          6619.5,
          6621.4,
          6609.5,
          6619.4,
          5979.70584122
        ],
        [
          1538958600000,
          6614.1,
          6619.5,
          6612,
          6614,
          6025.1716561
        ],
        [
          1538960400000,
          6613,
          6618.7,
          6613,
          6612.9,
          5891.89048068
        ],
        [
          1538962200000,
          6606,
          6615.3,
          6604.5,
          6605.9,
          6044.14117228
        ],
        [
          1538964000000,
          6606,
          6607.5,
          6605.9,
          6605.9,
          6035.86813299
        ],
        [
          1538965800000,
          6605.1,
          6606,
          6605.1,
          6605,
          6000.16200736
        ],
        [
          1538967600000,
          6606.7,
          6607.2,
          6605.2,
          6606.6,
          6032.38817897
        ],
        [
          1538969400000,
          6601.1,
          6606.7,
          6601.1,
          6601,
          6104.14899236
        ],
        [
          1538971200000,
          6603.1,
          6607.1,
          6601,
          6603,
          6189.30469239
        ],
        [
          1538973000000,
          6603.1,
          6603.6,
          6601.3,
          6603,
          6134.07618114
        ],
        [
          1538974800000,
          6603.9,
          6603.8,
          6603,
          6603.8,
          6080.13002991
        ],
        [
          1538976600000,
          6590.7,
          6603.9,
          6590.3,
          6590.6,
          6162.72331135
        ],
        [
          1538978400000,
          6587,
          6590.7,
          6586,
          6586.4,
          6232.28221533
        ],
        [
          1538980200000,
          6596.6,
          6596.9,
          6586.7,
          6596.5,
          6273.67816088
        ],
        [
          1538982000000,
          6596.7,
          6600.1,
          6596.7,
          6596.6,
          6156.35644382
        ],
        [
          1538983800000,
          6593,
          6595.3,
          6590.8,
          6592.9,
          6091.59706088
        ],
        [
          1538985600000,
          6597.5,
          6597.4,
          6592.9,
          6597.4,
          5169.76603374
        ],
        [
          1538987400000,
          6597.9,
          6597.8,
          6595.1,
          6597.8,
          4958.15811178
        ],
        [
          1538989200000,
          6601.3,
          6601.2,
          6597,
          6601.2,
          4894.66417581
        ],
        [
          1538991000000,
          6604.1,
          6604,
          6599.5,
          6604,
          4900.63066191
        ],
        [
          1538992800000,
          6604.3,
          6605.8,
          6603,
          6604.2,
          4918.50073643
        ],
        [
          1538994600000,
          6615.8,
          6614.9,
          6601.1,
          6614.9,
          4961.85364083
        ],
        [
          1538996400000,
          6640.5,
          6670,
          6619.9,
          6640.4,
          7466.01803678
        ],
        [
          1538998200000,
          6646.9,
          6650.4,
          6638.9,
          6646.8,
          7582.79484535
        ],
        [
          1539000000000,
          6704.3,
          6725.5,
          6646.8,
          6704.2,
          9864.07927771
        ],
        [
          1539001800000,
          6677.7,
          6723.6,
          6667,
          6676.7,
          11337.87309355
        ],
        [
          1539003600000,
          6661.1,
          6685.3,
          6646.1,
          6661,
          12306.08604413
        ],
        [
          1539005400000,
          6657.9,
          6661.1,
          6655.1,
          6657.8,
          12424.27873886
        ],
        [
          1539007200000,
          6670,
          6671.2,
          6652.8,
          6669.9,
          12575.78560529
        ],
        [
          1539009000000,
          6661.1,
          6670,
          6660.5,
          6661,
          12511.58828687
        ],
        [
          1539010800000,
          6686.7,
          6689.5,
          6661,
          6686.6,
          12723.65241215
        ],
        [
          1539012600000,
          6672.3,
          6694.9,
          6672.3,
          6672.2,
          12810.30842225
        ],
        [
          1539014400000,
          6675.6,
          6680.3,
          6672.5,
          6675.5,
          12842.0117073
        ],
        [
          1539016200000,
          6666,
          6677.3,
          6660,
          6665.9,
          12865.06608426
        ],
        [
          1539018000000,
          6673.4,
          6676.1,
          6665.9,
          6673.2,
          12768.37457143
        ],
        [
          1539019800000,
          6678.6,
          6678.7,
          6671.9,
          6678.5,
          12782.34320381
        ],
        [
          1539021600000,
          6664.8,
          6678.9,
          6664.8,
          6664.7,
          12642.67267729
        ],
        [
          1539023400000,
          6664.8,
          6669.2,
          6657.6,
          6664.7,
          12631.18105257
        ],
        [
          1539025200000,
          6691.3,
          6700,
          6664.7,
          6691.2,
          13024.22016273
        ],
        [
          1539027000000,
          6700.6,
          6705.9,
          6691.4,
          6700.5,
          13183.22473518
        ],
        [
          1539028800000,
          6697.1,
          6703.7,
          6694.7,
          6697,
          13329.62699169
        ],
        [
          1539030600000,
          6696.2,
          6698.3,
          6696.2,
          6696.1,
          13369.36652874
        ],
        [
          1539032400000,
          6692.1,
          6696.2,
          6692.1,
          6692,
          13430.39366303
        ],
        [
          1539034200000,
          6687.7,
          6692.1,
          6687.7,
          6687.6,
          13519.73877335
        ],
        [
          1539036000000,
          6683.2,
          6687.7,
          6679.5,
          6683.1,
          13701.49116829
        ],
        [
          1539037800000,
          6670.1,
          6683.2,
          6670.1,
          6670,
          13686.88818613
        ],
        [
          1539039600000,
          6674.9,
          6682.5,
          6670,
          6674.8,
          13831.47618204
        ],
        [
          1539041400000,
          6673.3,
          6674.9,
          6671.1,
          6673.2,
          12698.91828764
        ],
        [
          1539043200000,
          6678.8,
          6680.4,
          6673.2,
          6678.7,
          12669.88838873
        ],
        [
          1539045000000,
          6676.5,
          6679.3,
          6675.7,
          6676.4,
          12639.16961062
        ],
        [
          1539046800000,
          6666.7,
          6676.5,
          6662.1,
          6666.6,
          12734.59271056
        ],
        [
          1539048600000,
          6663.3,
          6666.6,
          6663.3,
          6663.2,
          12594.48732525
        ],
        [
          1539050400000,
          6663.3,
          6663.6,
          6663.3,
          6663.2,
          12699.58468396
        ],
        [
          1539052200000,
          6665,
          6664.9,
          6663.2,
          6664.9,
          12713.66821476
        ],
        [
          1539054000000,
          6653.9,
          6665,
          6653.9,
          6653.8,
          13090.55532148
        ],
        [
          1539055800000,
          6660,
          6660.7,
          6653.8,
          6659.9,
          13074.3228508
        ],
        [
          1539057600000,
          6660.5,
          6664.9,
          6659.5,
          6660.4,
          13069.64435301
        ],
        [
          1539059400000,
          6672.1,
          6672.3,
          6660.4,
          6672,
          13219.53575369
        ],
        [
          1539061200000,
          6669.7,
          6680.2,
          6669.7,
          6669.6,
          13565.16020556
        ],
        [
          1539063000000,
          6664.2,
          6669.7,
          6664,
          6664.1,
          13476.80064597
        ],
        [
          1539064800000,
          6664.6,
          6664.7,
          6664.1,
          6664.5,
          13427.69794402
        ],
        [
          1539066600000,
          6660.2,
          6665.2,
          6660,
          6660.1,
          13561.82200785
        ],
        [
          1539068400000,
          6660.5,
          6662.3,
          6660,
          6660.4,
          13620.43991751
        ],
        [
          1539070200000,
          6663.8,
          6663.8,
          6660.4,
          6663.7,
          13637.78738498
        ],
        [
          1539072000000,
          6643.1,
          6664.4,
          6643.1,
          6643,
          13860.27536774
        ],
        [
          1539073800000,
          6654,
          6653.9,
          6643,
          6653.9,
          14005.27480839
        ],
        [
          1539075600000,
          6652.2,
          6654,
          6652.2,
          6652.1,
          13965.30387806
        ],
        [
          1539077400000,
          6658.1,
          6658,
          6650.1,
          6658,
          13926.81303021
        ],
        [
          1539079200000,
          6658.4,
          6659.6,
          6658,
          6658.3,
          13927.26671005
        ],
        [
          1539081000000,
          6658.3,
          6658.4,
          6658.3,
          6658.2,
          13879.57547468
        ],
        [
          1539082800000,
          6645.1,
          6658.3,
          6645.1,
          6645,
          11395.81098556
        ],
        [
          1539084600000,
          6644.2,
          6645.1,
          6644.2,
          6644.1,
          11338.09488936
        ],
        [
          1539086400000,
          6632.1,
          6644.2,
          6632.1,
          6632,
          9185.18980237
        ],
        [
          1539088200000,
          6632,
          6632.1,
          6625.1,
          6631.9,
          7893.00405354
        ],
        [
          1539090000000,
          6623.8,
          6632,
          6618.9,
          6623.7,
          7254.72853156
        ],
        [
          1539091800000,
          6606.1,
          6623.8,
          6606.1,
          6606,
          7687.99722621
        ],
        [
          1539093600000,
          6623.8,
          6627,
          6606,
          6623.7,
          8072.85270896
        ],
        [
          1539095400000,
          6630.2,
          6630.3,
          6621.3,
          6630.1,
          8056.58091118
        ],
        [
          1539097200000,
          6636,
          6635.9,
          6630.1,
          6635.9,
          7881.43384142
        ],
        [
          1539099000000,
          6638.2,
          6639,
          6635.2,
          6638.1,
          7929.05036961
        ],
        [
          1539100800000,
          6632.1,
          6638.2,
          6625.2,
          6632,
          7922.7062408
        ],
        [
          1539102600000,
          6630,
          6633.9,
          6630,
          6629.9,
          7901.84004453
        ],
        [
          1539104400000,
          6636.8,
          6636.7,
          6629.9,
          6636.7,
          7935.79189568
        ],
        [
          1539106200000,
          6638.9,
          6638.8,
          6635.8,
          6638.8,
          7946.82524393
        ],
        [
          1539108000000,
          6655.5,
          6655.4,
          6638.8,
          6655.4,
          8113.28704335
        ],
        [
          1539109800000,
          6657.9,
          6657.8,
          6655.4,
          6657.8,
          8167.34331532
        ],
        [
          1539111600000,
          6668.7,
          6678,
          6657.8,
          6668.6,
          8224.21680732
        ],
        [
          1539113400000,
          6659.3,
          6670,
          6655,
          6659.2,
          8222.46443208
        ],
        [
          1539115200000,
          6646.8,
          6659.3,
          6646.8,
          6646.7,
          8110.7489474
        ],
        [
          1539117000000,
          6648.3,
          6655.7,
          6643.9,
          6648.2,
          8151.9771478
        ],
        [
          1539118800000,
          6648.2,
          6648.3,
          6647.3,
          6648.1,
          8137.1057618
        ],
        [
          1539120600000,
          6655.2,
          6655.1,
          6648.1,
          6655.1,
          8075.57165995
        ],
        [
          1539122400000,
          6661.1,
          6661,
          6655.1,
          6661,
          7905.80852944
        ],
        [
          1539124200000,
          6668.1,
          6668,
          6661,
          6668,
          7940.1043106
        ],
        [
          1539126000000,
          6663.2,
          6669.2,
          6663.2,
          6663.1,
          7845.54190596
        ],
        [
          1539127800000,
          6663.1,
          6663.5,
          6663.1,
          6663,
          8058.76734514
        ],
        [
          1539129600000,
          6648.3,
          6663.1,
          6647.1,
          6648.2,
          8087.8730809
        ],
        [
          1539131400000,
          6643.9,
          6648.3,
          6637.7,
          6643.8,
          8299.58337983
        ],
        [
          1539133200000,
          6645.2,
          6645.1,
          6643.8,
          6645.1,
          8267.0106226
        ],
        [
          1539135000000,
          6634.6,
          6645.2,
          6634,
          6634.5,
          8371.23355621
        ],
        [
          1539136800000,
          6638.7,
          6640.1,
          6634.5,
          6638.6,
          8488.67399251
        ],
        [
          1539138600000,
          6635.1,
          6642.1,
          6635.1,
          6635,
          8494.70179446
        ],
        [
          1539140400000,
          6601,
          6635.1,
          6590.8,
          6600.9,
          8927.42733965
        ],
        [
          1539142200000,
          6609,
          6608.9,
          6596.4,
          6608.9,
          9392.70928206
        ],
        [
          1539144000000,
          6605,
          6615.9,
          6604.2,
          6604.9,
          9370.97773672
        ],
        [
          1539145800000,
          6585.4,
          6606.5,
          6585.4,
          6585.3,
          9701.45363701
        ],
        [
          1539147600000,
          6553.3,
          6585.4,
          6552.2,
          6553.2,
          10515.25719981
        ],
        [
          1539149400000,
          6538.1,
          6551.9,
          6533.2,
          6538,
          11398.53001555
        ],
        [
          1539151200000,
          6558,
          6557.9,
          6516.4,
          6557.9,
          12767.487555
        ],
        [
          1539153000000,
          6569.7,
          6569.6,
          6556,
          6569.6,
          13003.15229375
        ],
        [
          1539154800000,
          6560,
          6569.7,
          6556.1,
          6559.9,
          13225.88571699
        ],
        [
          1539156600000,
          6561,
          6560.9,
          6559.7,
          6560.9,
          13321.04433636
        ],
        [
          1539158400000,
          6560.9,
          6561,
          6560.8,
          6560.8,
          13280.13841115
        ],
        [
          1539160200000,
          6579,
          6578.9,
          6559.9,
          6578.9,
          13308.82522816
        ],
        [
          1539162000000,
          6591.3,
          6591.2,
          6578.9,
          6591.2,
          13528.8319216
        ],
        [
          1539163800000,
          6581.8,
          6591.3,
          6581.8,
          6581.7,
          13798.36035498
        ],
        [
          1539165600000,
          6576.7,
          6581.8,
          6576.7,
          6576.6,
          13911.88318209
        ],
        [
          1539167400000,
          6569.4,
          6577,
          6564.5,
          6569.3,
          14178.39344387
        ],
        [
          1539169200000,
          6568.6,
          6578,
          6568.6,
          6568.5,
          14421.0716696
        ],
        [
          1539171000000,
          6592.1,
          6592,
          6568.5,
          6592,
          14675.8544428
        ],
        [
          1539172800000,
          6600,
          6599.9,
          6592,
          6599.9,
          14665.40609685
        ],
        [
          1539174600000,
          6591.1,
          6600,
          6591.1,
          6591,
          14784.92398207
        ],
        [
          1539176400000,
          6601.6,
          6601.5,
          6591,
          6601.5,
          14635.37001398
        ],
        [
          1539178200000,
          6597.4,
          6604.2,
          6597.4,
          6597.3,
          14147.45192197
        ],
        [
          1539180000000,
          6590,
          6597.4,
          6586.8,
          6589.9,
          13631.60260649
        ],
        [
          1539181800000,
          6597.1,
          6599.3,
          6590.5,
          6597,
          13696.63651077
        ],
        [
          1539183600000,
          6587.8,
          6597.1,
          6586.3,
          6587.7,
          13697.82402391
        ],
        [
          1539185400000,
          6583.1,
          6587.8,
          6583.1,
          6583,
          13626.29111681
        ],
        [
          1539187200000,
          6594,
          6593.9,
          6580.1,
          6593.9,
          13605.84171188
        ],
        [
          1539189000000,
          6596.4,
          6596.9,
          6589.7,
          6596.3,
          13580.51586972
        ],
        [
          1539190800000,
          6596,
          6596.8,
          6592.9,
          6595.9,
          13591.29186526
        ],
        [
          1539192600000,
          6606.5,
          6613.1,
          6595.9,
          6606.4,
          13761.13702469
        ],
        [
          1539194400000,
          6613.4,
          6613.3,
          6601.7,
          6613.3,
          13626.72163802
        ],
        [
          1539196200000,
          6636.5,
          6636.4,
          6609.4,
          6636.4,
          13768.75731324
        ],
        [
          1539198000000,
          6638.7,
          6638.9,
          6636.4,
          6638.6,
          13396.7874448
        ],
        [
          1539199800000,
          6637.5,
          6638.7,
          6636.8,
          6637.4,
          13329.55984543
        ],
        [
          1539201600000,
          6638.1,
          6638,
          6637.4,
          6638,
          13401.44758313
        ],
        [
          1539203400000,
          6637,
          6638.2,
          6636.9,
          6636.9,
          13525.77869404
        ],
        [
          1539205200000,
          6620,
          6637,
          6616,
          6619.9,
          13724.97936956
        ],
        [
          1539207000000,
          6610.1,
          6620,
          6610.1,
          6610,
          13714.96783821
        ],
        [
          1539208800000,
          6610.8,
          6613.6,
          6610,
          6610.7,
          13815.51962174
        ],
        [
          1539210600000,
          6614,
          6613.9,
          6610.1,
          6613.9,
          13862.01772202
        ],
        [
          1539212400000,
          6626.5,
          6626.4,
          6613.9,
          6626.4,
          13966.22256652
        ],
        [
          1539214200000,
          6630.1,
          6630.2,
          6621.1,
          6630,
          13830.60192353
        ],
        [
          1539216000000,
          6588.2,
          6630.1,
          6578.2,
          6588.1,
          14256.17533959
        ],
        [
          1539217800000,
          6558.1,
          6594.3,
          6549,
          6558,
          15248.64658077
        ],
        [
          1539219600000,
          6264.9,
          6558.1,
          6252.8,
          6261.9,
          25880.48693248
        ],
        [
          1539221400000,
          6346.1,
          6349.5,
          6259.6,
          6346,
          30997.43982708
        ],
        [
          1539223200000,
          6335.1,
          6347.7,
          6254.4,
          6335,
          33493.43580768
        ],
        [
          1539225000000,
          6311.5,
          6335.1,
          6306.5,
          6311.4,
          34011.52377095
        ],
        [
          1539226800000,
          6348.3,
          6349.5,
          6311.4,
          6348.2,
          34401.64966578
        ],
        [
          1539228600000,
          6337.7,
          6348.6,
          6323.6,
          6337.6,
          34622.55555941
        ],
        [
          1539230400000,
          6345.1,
          6371.1,
          6330.5,
          6345,
          35439.18982204
        ],
        [
          1539232200000,
          6340.1,
          6350,
          6329.1,
          6340,
          35510.25551598
        ],
        [
          1539234000000,
          6311.7,
          6344.9,
          6303.1,
          6311.6,
          34967.95296556
        ],
        [
          1539235800000,
          6322,
          6330.2,
          6311.6,
          6321.9,
          34546.93701781
        ],
        [
          1539237600000,
          6303.5,
          6322,
          6262.7,
          6303.4,
          34301.6178658
        ],
        [
          1539239400000,
          6292.1,
          6317.1,
          6291.7,
          6292,
          34604.38830281
        ],
        [
          1539241200000,
          6261.8,
          6292.1,
          6258.2,
          6261.7,
          36352.46160701
        ],
        [
          1539243000000,
          6299.2,
          6313,
          6261.7,
          6299.1,
          36497.72490575
        ],
        [
          1539244800000,
          6313.4,
          6313.3,
          6299.1,
          6313.3,
          36546.60573533
        ],
        [
          1539246600000,
          6300.5,
          6319.4,
          6300.5,
          6300.4,
          36641.87077148
        ],
        [
          1539248400000,
          6299,
          6301.4,
          6285.1,
          6298.9,
          36726.84645162
        ],
        [
          1539250200000,
          6307.5,
          6307.4,
          6290.9,
          6307.4,
          36530.90654308
        ],
        [
          1539252000000,
          6294.9,
          6308.5,
          6293.4,
          6294.8,
          36610.06104307
        ],
        [
          1539253800000,
          6303,
          6303,
          6294.8,
          6302.9,
          36511.81322082
        ],
        [
          1539255600000,
          6280.8,
          6303,
          6275.7,
          6280.7,
          36431.51432257
        ],
        [
          1539257400000,
          6275.7,
          6289,
          6275.7,
          6275.6,
          36278.27664425
        ],
        [
          1539259200000,
          6295.2,
          6303.5,
          6275.6,
          6295.1,
          36374.36593195
        ],
        [
          1539261000000,
          6290,
          6295.2,
          6288.8,
          6289.9,
          36268.7037727
        ],
        [
          1539262800000,
          6302.6,
          6311.2,
          6225.1,
          6302.5,
          38067.50935128
        ],
        [
          1539264600000,
          6301.1,
          6326.2,
          6292.2,
          6301,
          38652.82699252
        ],
        [
          1539266400000,
          6319.8,
          6333.7,
          6301,
          6319.7,
          38874.2624373
        ],
        [
          1539268200000,
          6307.6,
          6320.3,
          6307.6,
          6307.5,
          38896.46995398
        ],
        [
          1539270000000,
          6293.8,
          6319.5,
          6293.8,
          6293.7,
          39028.13335825
        ],
        [
          1539271800000,
          6292.5,
          6299.9,
          6288.1,
          6292.4,
          39065.97770483
        ],
        [
          1539273600000,
          6305.1,
          6308.3,
          6291.5,
          6305,
          39192.52560678
        ],
        [
          1539275400000,
          6310.1,
          6312.1,
          6305,
          6310,
          39317.86513826
        ],
        [
          1539277200000,
          6319.4,
          6319.3,
          6310,
          6319.3,
          39367.6797936
        ],
        [
          1539279000000,
          6314.3,
          6326.1,
          6308.6,
          6314.2,
          39258.24440584
        ],
        [
          1539280800000,
          6311.9,
          6314.8,
          6311.4,
          6311.8,
          39225.54515016
        ],
        [
          1539282600000,
          6294.4,
          6311.9,
          6294.4,
          6294.3,
          39078.41798053
        ],
        [
          1539284400000,
          6294.4,
          6300.3,
          6294.3,
          6294.3,
          38999.36961988
        ],
        [
          1539286200000,
          6295.9,
          6300.2,
          6294.3,
          6295.8,
          38894.61779406
        ],
        [
          1539288000000,
          6280.1,
          6295.9,
          6260,
          6280,
          39224.66283299
        ],
        [
          1539289800000,
          6299.9,
          6311.2,
          6237.2,
          6299.8,
          39951.69142107
        ],
        [
          1539291600000,
          6295.9,
          6302.2,
          6285.3,
          6295.8,
          39850.00169142
        ],
        [
          1539293400000,
          6299.5,
          6305.4,
          6295.8,
          6299.3,
          39958.15788789
        ],
        [
          1539295200000,
          6291.4,
          6300.4,
          6282.4,
          6291.3,
          40087.66307241
        ],
        [
          1539297000000,
          6288.7,
          6291.4,
          6270.1,
          6288.6,
          40067.57701135
        ],
        [
          1539298800000,
          6267.4,
          6292.3,
          6260.8,
          6267.3,
          39981.21364675
        ],
        [
          1539300600000,
          6251.9,
          6298.6,
          6220.5,
          6251.8,
          41611.9470656
        ],
        [
          1539302400000,
          6268.8,
          6268.7,
          6220.4,
          6268.7,
          42129.9999799
        ],
        [
          1539304200000,
          6255.6,
          6276.1,
          6251.3,
          6255.5,
          41426.18651603
        ],
        [
          1539306000000,
          6278.4,
          6278.3,
          6255.5,
          6278.3,
          30202.76735845
        ],
        [
          1539307800000,
          6278.1,
          6288.9,
          6271.1,
          6278,
          25910.52045116
        ],
        [
          1539309600000,
          6291.6,
          6293.5,
          6278,
          6291.5,
          23408.35809633
        ],
        [
          1539311400000,
          6290.9,
          6295.3,
          6286.3,
          6290.8,
          22951.6396599
        ],
        [
          1539313200000,
          6289.2,
          6296,
          6279.7,
          6289.1,
          21947.69434644
        ],
        [
          1539315000000,
          6311.1,
          6311,
          6289.1,
          6311,
          21512.99894297
        ],
        [
          1539316800000,
          6320.1,
          6323.4,
          6304.6,
          6320,
          20820.4306947
        ],
        [
          1539318600000,
          6308.4,
          6326.7,
          6308.4,
          6308.3,
          20490.21955166
        ],
        [
          1539320400000,
          6302.9,
          6315.4,
          6302.9,
          6302.8,
          19987.60730047
        ],
        [
          1539322200000,
          6316.4,
          6327.2,
          6302.8,
          6316.3,
          19763.91482891
        ],
        [
          1539324000000,
          6322.7,
          6341.8,
          6316.3,
          6322.6,
          18970.64166046
        ],
        [
          1539325800000,
          6329,
          6328.9,
          6317,
          6328.9,
          18447.01235394
        ],
        [
          1539327600000,
          6332.7,
          6352.9,
          6325,
          6332.6,
          16880.42169995
        ],
        [
          1539329400000,
          6336.7,
          6336.9,
          6325.2,
          6336.6,
          16959.45520382
        ],
        [
          1539331200000,
          6329.7,
          6339,
          6325.2,
          6329.6,
          16915.87161654
        ],
        [
          1539333000000,
          6331.2,
          6333.4,
          6323.3,
          6331.1,
          16863.09184266
        ],
        [
          1539334800000,
          6315.9,
          6331.9,
          6309.3,
          6315.8,
          16668.49527765
        ],
        [
          1539336600000,
          6311.1,
          6315.9,
          6307.9,
          6311,
          16594.04798375
        ],
        [
          1539338400000,
          6311.8,
          6312.6,
          6310.1,
          6311.7,
          16601.06911635
        ],
        [
          1539340200000,
          6314.9,
          6321.3,
          6311.5,
          6314.8,
          16530.36192657
        ],
        [
          1539342000000,
          6302.1,
          6318.1,
          6302.1,
          6302,
          16391.40886447
        ],
        [
          1539343800000,
          6311.1,
          6312.5,
          6300.1,
          6311,
          16346.27990022
        ],
        [
          1539345600000,
          6320.1,
          6320.8,
          6311,
          6320,
          16159.27824009
        ],
        [
          1539347400000,
          6325,
          6324.9,
          6318,
          6324.9,
          15978.13516317
        ],
        [
          1539349200000,
          6322.2,
          6325,
          6313.3,
          6322.1,
          14121.4926278
        ],
        [
          1539351000000,
          6310,
          6322.2,
          6309.5,
          6309.9,
          13637.33921457
        ],
        [
          1539352800000,
          6318,
          6319.9,
          6306.4,
          6317.9,
          13493.87374357
        ],
        [
          1539354600000,
          6314,
          6318,
          6314,
          6313.9,
          13411.29169412
        ],
        [
          1539356400000,
          6335.5,
          6335.4,
          6313.9,
          6335.4,
          13504.50950328
        ],
        [
          1539358200000,
          6340.1,
          6349.9,
          6329.8,
          6340,
          13994.98156494
        ],
        [
          1539360000000,
          6329.7,
          6340.1,
          6329.7,
          6329.6,
          13856.86192737
        ],
        [
          1539361800000,
          6319.8,
          6329.7,
          6318.9,
          6319.7,
          13727.30304902
        ],
        [
          1539363600000,
          6327.5,
          6328.6,
          6319.7,
          6327.4,
          13729.60532255
        ],
        [
          1539365400000,
          6309.2,
          6327.9,
          6303.8,
          6309.1,
          13656.61919979
        ],
        [
          1539367200000,
          6311,
          6311.8,
          6304.2,
          6310.9,
          13611.9349242
        ],
        [
          1539369000000,
          6310,
          6313.4,
          6307,
          6309.9,
          13612.52938751
        ],
        [
          1539370800000,
          6316.7,
          6316.6,
          6309.9,
          6316.6,
          13522.25261025
        ],
        [
          1539372600000,
          6314.7,
          6316.7,
          6313.5,
          6314.6,
          13452.69416749
        ],
        [
          1539374400000,
          6315.9,
          6317.5,
          6314.6,
          6315.8,
          13071.69748547
        ],
        [
          1539376200000,
          6318.1,
          6318,
          6315.1,
          6318,
          12099.33416487
        ],
        [
          1539378000000,
          6322.1,
          6324.9,
          6318,
          6322,
          12100.70358087
        ],
        [
          1539379800000,
          6311.8,
          6324.1,
          6311.8,
          6311.7,
          11991.29915493
        ],
        [
          1539381600000,
          6290.2,
          6311.8,
          6290.2,
          6290.1,
          11962.33248386
        ],
        [
          1539383400000,
          6302,
          6307.2,
          6284.4,
          6301.9,
          12064.3984424
        ],
        [
          1539385200000,
          6304.5,
          6310,
          6301.9,
          6304.4,
          12061.31365404
        ],
        [
          1539387000000,
          6293.2,
          6304.5,
          6293.2,
          6293.1,
          10404.70325108
        ],
        [
          1539388800000,
          6311.2,
          6323.8,
          6282.7,
          6311.1,
          9562.98382581
        ],
        [
          1539390600000,
          6308.7,
          6314.6,
          6308.7,
          6308.6,
          9106.52989036
        ],
        [
          1539392400000,
          6309.2,
          6309.1,
          6308.6,
          6309.1,
          9006.17527258
        ],
        [
          1539394200000,
          6312.5,
          6312.4,
          6309.1,
          6312.4,
          8812.19714463
        ],
        [
          1539396000000,
          6308.7,
          6312.5,
          6308.7,
          6308.6,
          8605.84943947
        ],
        [
          1539397800000,
          6310.1,
          6314,
          6308.6,
          6310,
          8757.28338067
        ],
        [
          1539399600000,
          6306.1,
          6311.3,
          6306.1,
          6306,
          8698.98496627
        ],
        [
          1539401400000,
          6297.4,
          6306.1,
          6293.7,
          6297.3,
          8592.48804064
        ],
        [
          1539403200000,
          6307.1,
          6313.3,
          6295.1,
          6307,
          8446.20902873
        ],
        [
          1539405000000,
          6312.2,
          6312.8,
          6307,
          6311.8,
          8314.1141859
        ],
        [
          1539406800000,
          6311.8,
          6312.7,
          6311.6,
          6311.7,
          8193.87784996
        ],
        [
          1539408600000,
          6313.1,
          6321.9,
          6311.7,
          6313,
          8024.22403441
        ],
        [
          1539410400000,
          6314,
          6313.9,
          6311.1,
          6313.9,
          7703.74441695
        ],
        [
          1539412200000,
          6316.4,
          6316.3,
          6313.9,
          6316.3,
          7537.26540193
        ],
        [
          1539414000000,
          6311.1,
          6316.4,
          6311.1,
          6311,
          7018.52214514
        ],
        [
          1539415800000,
          6310.1,
          6311.1,
          6310.1,
          6310,
          6670.7779036
        ],
        [
          1539417600000,
          6310.1,
          6310.1,
          6310,
          6310,
          6455.73968942
        ],
        [
          1539419400000,
          6311.1,
          6311,
          6310,
          6311,
          6258.36687897
        ],
        [
          1539421200000,
          6320.1,
          6322.9,
          6311,
          6320,
          6270.39830094
        ],
        [
          1539423000000,
          6317.5,
          6326.9,
          6316.6,
          6317.4,
          6325.71379355
        ],
        [
          1539424800000,
          6330,
          6331.4,
          6317.4,
          6329.9,
          6347.09274645
        ],
        [
          1539426600000,
          6320.3,
          6331.4,
          6320.3,
          6320.2,
          6282.12335035
        ],
        [
          1539428400000,
          6325.1,
          6328.2,
          6320.2,
          6325,
          6276.66075129
        ],
        [
          1539430200000,
          6319.1,
          6325.1,
          6316.5,
          6319,
          6286.57141417
        ],
        [
          1539432000000,
          6308.5,
          6319.1,
          6301.5,
          6308.4,
          6408.52915025
        ],
        [
          1539433800000,
          6317,
          6316.6,
          6306.3,
          6316.6,
          6392.29387647
        ],
        [
          1539435600000,
          6305.2,
          6317.3,
          6305.2,
          6305.1,
          6355.10825002
        ],
        [
          1539437400000,
          6301,
          6308.1,
          6301,
          6300.9,
          6272.72965839
        ],
        [
          1539439200000,
          6311.4,
          6311.3,
          6300.9,
          6311.3,
          6224.62450154
        ],
        [
          1539441000000,
          6322,
          6321.9,
          6311.3,
          6321.9,
          6233.45640396
        ],
        [
          1539442800000,
          6322,
          6322,
          6321.9,
          6321.9,
          5995.95895286
        ],
        [
          1539444600000,
          6321.5,
          6324.5,
          6321.4,
          6321.4,
          5476.71553954
        ],
        [
          1539446400000,
          6321.1,
          6321.5,
          6321.1,
          6321,
          5514.59262246
        ],
        [
          1539448200000,
          6320.7,
          6324.8,
          6320.7,
          6320.6,
          5568.0068861
        ],
        [
          1539450000000,
          6317.9,
          6320.7,
          6317.9,
          6317.8,
          5615.44775967
        ],
        [
          1539451800000,
          6317.4,
          6317.9,
          6317.4,
          6317.3,
          5653.77456608
        ],
        [
          1539453600000,
          6320.8,
          6322.2,
          6317.3,
          6320.7,
          5687.57556716
        ],
        [
          1539455400000,
          6300.6,
          6320.8,
          6300.6,
          6300.5,
          5732.62036765
        ],
        [
          1539457200000,
          6316.2,
          6316.1,
          6299.1,
          6316.1,
          6076.21713549
        ],
        [
          1539459000000,
          6316.4,
          6316.3,
          6309.1,
          6316.3,
          6149.30492393
        ],
        [
          1539460800000,
          6310,
          6316.4,
          6310,
          6309.9,
          6106.26296405
        ],
        [
          1539462600000,
          6310.9,
          6312.3,
          6309.9,
          6310.8,
          6130.69971108
        ],
        [
          1539464400000,
          6317.6,
          6317.6,
          6310.8,
          6317.5,
          6035.58405314
        ],
        [
          1539466200000,
          6316,
          6317.6,
          6315,
          6315.9,
          5997.62956324
        ],
        [
          1539468000000,
          6321.9,
          6321.8,
          6315.9,
          6321.8,
          5820.79899625
        ],
        [
          1539469800000,
          6325.1,
          6325.7,
          6320.9,
          6325,
          5869.71748927
        ],
        [
          1539471600000,
          6326.4,
          6326.3,
          6325,
          6326.3,
          5852.18032112
        ],
        [
          1539473400000,
          6326.5,
          6327.4,
          6326.3,
          6326.4,
          5816.876507
        ],
        [
          1539475200000,
          6323.3,
          6326.5,
          6323.3,
          6323.2,
          5569.10648328
        ],
        [
          1539477000000,
          6325.5,
          6325.4,
          6318.6,
          6325.4,
          5608.89270257
        ],
        [
          1539478800000,
          6325.9,
          6326.2,
          6325,
          6325.8,
          5570.77089543
        ],
        [
          1539480600000,
          6326.3,
          6326.2,
          6325.8,
          6326.2,
          5476.51140263
        ],
        [
          1539482400000,
          6331.9,
          6331.8,
          6326.2,
          6331.8,
          5725.67786781
        ],
        [
          1539484200000,
          6332,
          6332.9,
          6331.8,
          6331.9,
          5521.39299605
        ],
        [
          1539486000000,
          6355.6,
          6369.9,
          6331.9,
          6355.5,
          6008.06603755
        ],
        [
          1539487800000,
          6361.2,
          6361.1,
          6355.5,
          6361.1,
          6129.39591315
        ],
        [
          1539489600000,
          6386.1,
          6394.6,
          6361.1,
          6386,
          6866.59137387
        ],
        [
          1539491400000,
          6388.5,
          6388.4,
          6386,
          6388.4,
          6972.52743855
        ],
        [
          1539493200000,
          6394.3,
          6394.2,
          6388.4,
          6394.2,
          7170.03969137
        ],
        [
          1539495000000,
          6384.3,
          6394.3,
          6384.3,
          6384.2,
          7705.31122157
        ],
        [
          1539496800000,
          6386.1,
          6386.2,
          6384.2,
          6386,
          7741.48102244
        ],
        [
          1539498600000,
          6376.1,
          6386.4,
          6376.1,
          6376,
          7745.90737055
        ],
        [
          1539500400000,
          6383.2,
          6383.1,
          6376,
          6383.1,
          7831.22393817
        ],
        [
          1539502200000,
          6376.2,
          6385.4,
          6376.2,
          6376.1,
          7977.28174498
        ],
        [
          1539504000000,
          6376.4,
          6376.5,
          6376.1,
          6376.3,
          7966.23255855
        ],
        [
          1539505800000,
          6374.6,
          6377.1,
          6372.3,
          6374.5,
          8041.97339988
        ],
        [
          1539507600000,
          6365.5,
          6376.4,
          6365.5,
          6365.4,
          7987.09509563
        ],
        [
          1539509400000,
          6360.7,
          6365.5,
          6354.6,
          6360.6,
          8072.38978007
        ],
        [
          1539511200000,
          6361.1,
          6361,
          6360.1,
          6361,
          7993.75658083
        ],
        [
          1539513000000,
          6352.3,
          6362.2,
          6352.3,
          6352.2,
          8131.64895202
        ],
        [
          1539514800000,
          6352.3,
          6353.4,
          6352.1,
          6352.2,
          8145.72627499
        ],
        [
          1539516600000,
          6351.7,
          6352.3,
          6351.6,
          6351.6,
          8126.23405667
        ],
        [
          1539518400000,
          6363,
          6362.9,
          6351.6,
          6362.9,
          8114.51325078
        ],
        [
          1539520200000,
          6369.9,
          6370.2,
          6362.9,
          6369.8,
          8217.15583348
        ],
        [
          1539522000000,
          6366,
          6369.9,
          6366,
          6365.9,
          8189.08173473
        ],
        [
          1539523800000,
          6360.2,
          6366,
          6360.1,
          6360.1,
          8187.76199768
        ],
        [
          1539525600000,
          6364.8,
          6364.9,
          6360,
          6364.7,
          8075.99195554
        ],
        [
          1539527400000,
          6363.5,
          6364.8,
          6361.2,
          6363.4,
          8010.05870402
        ],
        [
          1539529200000,
          6364.6,
          6364.5,
          6363.4,
          6364.5,
          7980.56273159
        ],
        [
          1539531000000,
          6376.7,
          6376.6,
          6364.5,
          6376.6,
          8085.89020699
        ],
        [
          1539532800000,
          6382.1,
          6390.1,
          6376.6,
          6382,
          8337.00567344
        ],
        [
          1539534600000,
          6389.1,
          6390.5,
          6379.8,
          6389,
          8540.41825464
        ],
        [
          1539536400000,
          6378.3,
          6389.8,
          6376.4,
          6378.1,
          8702.18127514
        ],
        [
          1539538200000,
          6378,
          6385.4,
          6375,
          6377.9,
          8643.54415776
        ],
        [
          1539540000000,
          6386.8,
          6389.6,
          6377.9,
          6386.7,
          8699.66923157
        ],
        [
          1539541800000,
          6388,
          6395.9,
          6386.7,
          6387.9,
          8953.76608754
        ],
        [
          1539543600000,
          6396.6,
          6396.5,
          6387.9,
          6396.5,
          8644.00124349
        ],
        [
          1539545400000,
          6396.9,
          6396.9,
          6396.1,
          6396.8,
          8683.70369278
        ],
        [
          1539547200000,
          6397.4,
          6399.1,
          6396.8,
          6397.3,
          8826.99133105
        ],
        [
          1539549000000,
          6359.5,
          6397.4,
          6345.1,
          6359.4,
          9437.27813768
        ],
        [
          1539550800000,
          6355,
          6359.5,
          6345.5,
          6354.9,
          9628.50804419
        ],
        [
          1539552600000,
          6352,
          6355,
          6349.9,
          6351.9,
          9716.32890007
        ],
        [
          1539554400000,
          6359.5,
          6367.3,
          6351.9,
          6359.4,
          9783.14811322
        ],
        [
          1539556200000,
          6352,
          6368.4,
          6350.5,
          6351.9,
          10611.63539694
        ],
        [
          1539558000000,
          6348.5,
          6362.3,
          6348.5,
          6348.4,
          10761.64844344
        ],
        [
          1539559800000,
          6336.4,
          6348.5,
          6303.1,
          6335.2,
          11230.13068367
        ],
        [
          1539561600000,
          6309.6,
          6336.4,
          6299.9,
          6309.5,
          11883.60523229
        ],
        [
          1539563400000,
          6351.6,
          6351.5,
          6309.5,
          6351.5,
          12122.25150888
        ],
        [
          1539565200000,
          6357.2,
          6361.6,
          6351.5,
          6357.1,
          12401.68032631
        ],
        [
          1539567000000,
          6381.8,
          6383.3,
          6357.1,
          6381.7,
          12674.30454349
        ],
        [
          1539568800000,
          6370.9,
          6381.8,
          6369.9,
          6370.8,
          12482.93188412
        ],
        [
          1539570600000,
          6366.5,
          6371.5,
          6363.9,
          6366.4,
          12498.8078639
        ],
        [
          1539572400000,
          6371,
          6370.9,
          6366.4,
          6370.9,
          11901.79339097
        ],
        [
          1539574200000,
          6379.4,
          6379.5,
          6370.9,
          6379.3,
          11708.98515791
        ],
        [
          1539576000000,
          6383.4,
          6383.3,
          6379.1,
          6383.3,
          10982.09650398
        ],
        [
          1539577800000,
          6385,
          6384.9,
          6383.2,
          6384.9,
          10981.41359181
        ],
        [
          1539579600000,
          6501.3,
          6514,
          6384.9,
          6501,
          13155.55505899
        ],
        [
          1539581400000,
          6697.9,
          6742.9,
          6490.7,
          6695.5,
          18033.85654389
        ],
        [
          1539583200000,
          6940.3,
          7196.2,
          6699.5,
          6940.2,
          26651.78308732
        ],
        [
          1539585000000,
          7427.7,
          7704,
          6940.2,
          7422.5,
          37537.96715628
        ],
        [
          1539586800000,
          7000.3,
          7423.5,
          6988.5,
          7000.2,
          47050.27510588
        ],
        [
          1539588600000,
          6878,
          7084.3,
          6878,
          6870.3,
          50908.08462138
        ],
        [
          1539590400000,
          6898.3,
          6966.7,
          6840.1,
          6897.9,
          55073.49269325
        ],
        [
          1539592200000,
          6833.4,
          6910,
          6819.4,
          6833.3,
          57750.56761057
        ],
        [
          1539594000000,
          6775.9,
          6850.6,
          6732.1,
          6775.8,
          61180.68200724
        ],
        [
          1539595800000,
          6830.4,
          6829,
          6775.8,
          6829,
          62673.96990373
        ],
        [
          1539597600000,
          6829.5,
          6885,
          6817.5,
          6829.4,
          64109.36715512
        ],
        [
          1539599400000,
          6900,
          6931.7,
          6829.4,
          6899.9,
          65144.77312506
        ],
        [
          1539601200000,
          6980,
          6979.9,
          6897.9,
          6979.9,
          67326.83280985
        ],
        [
          1539603000000,
          6932,
          7017.5,
          6899.9,
          6931.9,
          69876.38574599
        ],
        [
          1539604800000,
          6960,
          6959.9,
          6882.5,
          6959.9,
          71058.0079963
        ],
        [
          1539606600000,
          6923.1,
          6971.3,
          6920.6,
          6921.3,
          71640.45421476
        ],
        [
          1539608400000,
          6935.5,
          6942.3,
          6892.5,
          6935.4,
          72288.74433483
        ],
        [
          1539610200000,
          6932,
          6945.8,
          6923.8,
          6931.9,
          72687.12922781
        ],
        [
          1539612000000,
          6907,
          6932,
          6907,
          6905.1,
          73374.38151568
        ],
        [
          1539613800000,
          6855,
          6905.2,
          6852.8,
          6851.5,
          74509.50958895
        ],
        [
          1539615600000,
          6862,
          6881.9,
          6857.2,
          6861.8,
          75095.25272916
        ],
        [
          1539617400000,
          6885.1,
          6896.6,
          6855.6,
          6885,
          75527.84988587
        ],
        [
          1539619200000,
          6897.5,
          6898.9,
          6886.1,
          6897.4,
          75801.15824309
        ],
        [
          1539621000000,
          6903.7,
          6935,
          6884.7,
          6903.6,
          76089.14588853
        ],
        [
          1539622800000,
          6874,
          6916.3,
          6868.7,
          6873.9,
          76438.78067731
        ],
        [
          1539624600000,
          6861.9,
          6895.8,
          6850,
          6861.6,
          76921.77684396
        ],
        [
          1539626400000,
          6808.1,
          6879.5,
          6788.6,
          6808,
          79455.65037857
        ],
        [
          1539628200000,
          6778.1,
          6820,
          6778.1,
          6778,
          79705.20753281
        ],
        [
          1539630000000,
          6782.9,
          6797.9,
          6771,
          6782.8,
          80692.0627478
        ],
        [
          1539631800000,
          6731.1,
          6787.8,
          6731.1,
          6731,
          81452.3869204
        ],
        [
          1539633600000,
          6717.4,
          6731.1,
          6690.1,
          6717.3,
          82792.7515262
        ],
        [
          1539635400000,
          6707.7,
          6742.2,
          6707.7,
          6707.6,
          82999.88155295
        ],
        [
          1539637200000,
          6652.8,
          6729,
          6652.8,
          6652.7,
          83979.2478576
        ],
        [
          1539639000000,
          6651.9,
          6670,
          6647.7,
          6650,
          84626.62661642
        ],
        [
          1539640800000,
          6678.1,
          6678,
          6642.7,
          6678,
          85191.40343829
        ],
        [
          1539642600000,
          6716,
          6733.2,
          6671.1,
          6715.9,
          84972.89088329
        ],
        [
          1539644400000,
          6748.8,
          6749.9,
          6715.9,
          6748.2,
          85202.72842506
        ],
        [
          1539646200000,
          6742,
          6770.9,
          6734.9,
          6741.9,
          85002.47213092
        ],
        [
          1539648000000,
          6715.6,
          6743.3,
          6710,
          6715.5,
          84770.91675968
        ],
        [
          1539649800000,
          6729,
          6728.7,
          6706.2,
          6728.1,
          84705.31961055
        ],
        [
          1539651600000,
          6720.8,
          6733.4,
          6719.1,
          6720.7,
          84520.79735992
        ],
        [
          1539653400000,
          6706,
          6720.8,
          6695.4,
          6705.9,
          84330.27680413
        ],
        [
          1539655200000,
          6719.9,
          6719.8,
          6705.9,
          6719.8,
          84357.23640885
        ],
        [
          1539657000000,
          6735.4,
          6735.3,
          6719.8,
          6735.3,
          84494.72293355
        ],
        [
          1539658800000,
          6741.2,
          6748.5,
          6735.6,
          6741.1,
          84540.50468099
        ],
        [
          1539660600000,
          6727.1,
          6741.2,
          6727.1,
          6727,
          84572.76171412
        ],
        [
          1539662400000,
          6730.3,
          6730.4,
          6721.6,
          6730.2,
          84631.92078578
        ],
        [
          1539664200000,
          6719.8,
          6730.3,
          6709.7,
          6719.7,
          84861.57396245
        ],
        [
          1539666000000,
          6726.2,
          6730.7,
          6716.7,
          6726.1,
          82657.53350268
        ],
        [
          1539667800000,
          6841.1,
          6852.1,
          6726.1,
          6841,
          79036.42466006
        ],
        [
          1539669600000,
          6839.6,
          6892.1,
          6828.4,
          6839.5,
          71610.42044539
        ],
        [
          1539671400000,
          6816.9,
          6868.7,
          6812,
          6816.8,
          61070.96111632
        ],
        [
          1539673200000,
          6823.6,
          6825.9,
          6807.7,
          6823.5,
          51507.48832882
        ],
        [
          1539675000000,
          6815.6,
          6823.6,
          6809.1,
          6815.3,
          47850.19245823
        ],
        [
          1539676800000,
          6742.8,
          6815.5,
          6731.8,
          6742.7,
          44686.83096091
        ],
        [
          1539678600000,
          6745.8,
          6748.5,
          6725.4,
          6745.7,
          42281.50957433
        ],
        [
          1539680400000,
          6739.4,
          6760.9,
          6733,
          6739.3,
          39401.08760515
        ],
        [
          1539682200000,
          6742.5,
          6749.9,
          6731.2,
          6742.4,
          38172.46410348
        ],
        [
          1539684000000,
          6750,
          6756.9,
          6741.9,
          6749.9,
          36880.03753004
        ],
        [
          1539685800000,
          6763.9,
          6763.9,
          6745.7,
          6763.8,
          35745.92830537
        ],
        [
          1539687600000,
          6760.3,
          6771.8,
          6760.3,
          6760.2,
          33723.1465975
        ],
        [
          1539689400000,
          6788.9,
          6788.8,
          6760.2,
          6788.8,
          31287.99951149
        ],
        [
          1539691200000,
          6761.3,
          6788.9,
          6761.3,
          6761.2,
          30070.90325015
        ],
        [
          1539693000000,
          6744.8,
          6761.3,
          6733.9,
          6744.7,
          29707.69745746
        ],
        [
          1539694800000,
          6757.6,
          6773.8,
          6744.7,
          6757.5,
          29291.93951213
        ],
        [
          1539696600000,
          6738.5,
          6766.4,
          6738.5,
          6738.1,
          28949.89501933
        ],
        [
          1539698400000,
          6729.9,
          6750.6,
          6729.4,
          6729.8,
          28594.75253833
        ],
        [
          1539700200000,
          6715.6,
          6732.9,
          6714,
          6715.5,
          27691.19070497
        ],
        [
          1539702000000,
          6719.6,
          6725.9,
          6713.8,
          6719.5,
          27199.62369179
        ],
        [
          1539703800000,
          6717.7,
          6728,
          6717.4,
          6717.6,
          26708.96530107
        ],
        [
          1539705600000,
          6688.2,
          6717.7,
          6673,
          6687.3,
          26804.4295048
        ],
        [
          1539707400000,
          6688,
          6695.2,
          6674.9,
          6687.9,
          26560.56144925
        ],
        [
          1539709200000,
          6694.4,
          6707,
          6687.9,
          6694.3,
          26039.3307169
        ],
        [
          1539711000000,
          6710.1,
          6711.6,
          6694.3,
          6710,
          25665.21841038
        ],
        [
          1539712800000,
          6720.1,
          6726.7,
          6710,
          6720,
          23093.01164193
        ],
        [
          1539714600000,
          6726.1,
          6728.3,
          6711,
          6726,
          22588.80211544
        ],
        [
          1539716400000,
          6712.4,
          6726.1,
          6710.3,
          6712.3,
          21824.95505342
        ],
        [
          1539718200000,
          6720,
          6718.9,
          6700.9,
          6718.9,
          21133.29345883
        ],
        [
          1539720000000,
          6716,
          6726,
          6716,
          6715.8,
          19711.72826937
        ],
        [
          1539721800000,
          6716,
          6717.5,
          6704.8,
          6715.9,
          18910.87514128
        ],
        [
          1539723600000,
          6705.3,
          6718,
          6704.7,
          6705.2,
          17891.72814884
        ],
        [
          1539725400000,
          6725.8,
          6725.7,
          6705,
          6725.7,
          17240.97995619
        ],
        [
          1539727200000,
          6712.1,
          6725.8,
          6712.1,
          6712,
          16599.91795506
        ],
        [
          1539729000000,
          6719.1,
          6719,
          6710,
          6719,
          15824.76932529
        ],
        [
          1539730800000,
          6762,
          6779.9,
          6717.4,
          6761.9,
          15816.80106327
        ],
        [
          1539732600000,
          6754.2,
          6773.3,
          6754.2,
          6754.1,
          15664.78024732
        ],
        [
          1539734400000,
          6738.1,
          6754.2,
          6738,
          6738,
          15284.08918042
        ],
        [
          1539736200000,
          6745.9,
          6746,
          6738,
          6745.8,
          15140.57461754
        ],
        [
          1539738000000,
          6752.5,
          6762.5,
          6745.8,
          6752.4,
          15201.25599706
        ],
        [
          1539739800000,
          6749.6,
          6757,
          6749.6,
          6749.5,
          15079.38873116
        ],
        [
          1539741600000,
          6749.9,
          6749.8,
          6737.4,
          6749.8,
          15104.54524773
        ],
        [
          1539743400000,
          6751.7,
          6753.4,
          6749.8,
          6751.6,
          14970.68574649
        ],
        [
          1539745200000,
          6762.1,
          6763.3,
          6751.6,
          6762,
          14960.86332202
        ],
        [
          1539747000000,
          6773.8,
          6775.8,
          6759.6,
          6773.7,
          14999.45626035
        ],
        [
          1539748800000,
          6763.3,
          6771.9,
          6755.4,
          6763.2,
          14895.11026857
        ],
        [
          1539750600000,
          6769.9,
          6775.7,
          6760.6,
          6769.5,
          14770.10680855
        ],
        [
          1539752400000,
          6760.2,
          6793.9,
          6757.1,
          6760.1,
          14754.69902816
        ],
        [
          1539754200000,
          6757.7,
          6762.7,
          6749.8,
          6756.5,
          12868.14830866
        ],
        [
          1539756000000,
          6762.4,
          6762.8,
          6756.6,
          6762.3,
          11768.08949222
        ],
        [
          1539757800000,
          6760.6,
          6762.7,
          6755.6,
          6760.5,
          11434.48437469
        ],
        [
          1539759600000,
          6745,
          6758.8,
          6738.6,
          6744.9,
          11478.12156169
        ],
        [
          1539761400000,
          6745.5,
          6747.9,
          6744.6,
          6745.4,
          11246.64673095
        ],
        [
          1539763200000,
          6759.3,
          6759.2,
          6744.6,
          6759.2,
          10401.86786954
        ],
        [
          1539765000000,
          6762.4,
          6767.2,
          6746.9,
          6762.3,
          10280.56634155
        ],
        [
          1539766800000,
          6740,
          6767.1,
          6739.8,
          6739.9,
          9984.63059748
        ],
        [
          1539768600000,
          6726.2,
          6739.8,
          6710,
          6726.1,
          10028.79847792
        ],
        [
          1539770400000,
          6705.8,
          6726.5,
          6698.9,
          6705.7,
          10116.83603387
        ],
        [
          1539772200000,
          6700,
          6708,
          6698.7,
          6699.9,
          10128.06598879
        ],
        [
          1539774000000,
          6681.5,
          6700,
          6674.4,
          6681.4,
          10368.46674805
        ],
        [
          1539775800000,
          6719.5,
          6719.4,
          6683,
          6719.4,
          10329.52687852
        ],
        [
          1539777600000,
          6720.2,
          6724,
          6717.9,
          6720.1,
          10323.07819269
        ],
        [
          1539779400000,
          6720.1,
          6722.2,
          6711.1,
          6719.2,
          10028.5497729
        ],
        [
          1539781200000,
          6714.2,
          6721.3,
          6709.9,
          6714,
          9939.71340482
        ],
        [
          1539783000000,
          6709.8,
          6714.1,
          6696.5,
          6709.7,
          9856.45642491
        ],
        [
          1539784800000,
          6724.8,
          6724.7,
          6699,
          6724.7,
          9633.35015204
        ],
        [
          1539786600000,
          6742,
          6756.3,
          6725.9,
          6741.9,
          9904.89113546
        ],
        [
          1539788400000,
          6734,
          6742.6,
          6733.7,
          6733.9,
          9914.64096937
        ],
        [
          1539790200000,
          6741.5,
          6741.9,
          6733.9,
          6741.4,
          9792.0326946
        ],
        [
          1539792000000,
          6735,
          6745.4,
          6734.8,
          6734.9,
          9203.03108431
        ],
        [
          1539793800000,
          6745.1,
          6745,
          6732.4,
          6745,
          8905.02575439
        ],
        [
          1539795600000,
          6737.3,
          6745.1,
          6737.3,
          6737.2,
          8818.31768585
        ],
        [
          1539797400000,
          6743,
          6743,
          6736.7,
          6742.7,
          8744.87342082
        ],
        [
          1539799200000,
          6734.5,
          6742.5,
          6734.5,
          6733.2,
          8766.59118642
        ],
        [
          1539801000000,
          6738.7,
          6739.8,
          6730.2,
          6738.6,
          8877.07345774
        ],
        [
          1539802800000,
          6730,
          6739,
          6730,
          6729.9,
          9049.26598182
        ],
        [
          1539804600000,
          6710,
          6732.1,
          6709.6,
          6709.9,
          9150.71275822
        ],
        [
          1539806400000,
          6717.3,
          6721.8,
          6704.9,
          6717.2,
          9384.44239404
        ],
        [
          1539808200000,
          6723.5,
          6725.9,
          6715.8,
          6723.4,
          9404.81021199
        ],
        [
          1539810000000,
          6725.9,
          6725.8,
          6715.7,
          6725.8,
          9378.51956344
        ],
        [
          1539811800000,
          6732.4,
          6732.8,
          6725.8,
          6732.3,
          9371.46608709
        ],
        [
          1539813600000,
          6739.1,
          6745,
          6732.1,
          6739,
          9377.352439
        ],
        [
          1539815400000,
          6733.6,
          6745.9,
          6731.2,
          6733.5,
          9396.54283612
        ],
        [
          1539817200000,
          6741.5,
          6741.4,
          6724.9,
          6741.4,
          9010.07091079
        ],
        [
          1539819000000,
          6737.1,
          6741.5,
          6735,
          6735.2,
          8880.53025073
        ],
        [
          1539820800000,
          6735.1,
          6738.7,
          6723.1,
          6735,
          8918.22432239
        ],
        [
          1539822600000,
          6735,
          6742.8,
          6732.3,
          6734.9,
          9041.72663552
        ],
        [
          1539824400000,
          6731.6,
          6735.6,
          6729.9,
          6731.2,
          9080.3467747
        ],
        [
          1539826200000,
          6731.1,
          6734.9,
          6728.1,
          6731,
          9145.10009034
        ],
        [
          1539828000000,
          6730.6,
          6731.1,
          6727.2,
          6730.5,
          9173.0345563
        ],
        [
          1539829800000,
          6730.4,
          6734.9,
          6729.6,
          6730.3,
          9283.94203741
        ],
        [
          1539831600000,
          6771.6,
          6779.8,
          6730.2,
          6771.5,
          9726.33602787
        ],
        [
          1539833400000,
          6739.9,
          6776.8,
          6739.9,
          6739.8,
          9926.95352102
        ],
        [
          1539835200000,
          6744.9,
          6754.5,
          6741.2,
          6744.8,
          9966.61819691
        ],
        [
          1539837000000,
          6740,
          6744.9,
          6738.1,
          6739.9,
          10063.14303338
        ],
        [
          1539838800000,
          6735.6,
          6742.8,
          6732.1,
          6735.5,
          10078.41717996
        ],
        [
          1539840600000,
          6726.2,
          6733.4,
          6714.8,
          6724.8,
          10084.36110603
        ],
        [
          1539842400000,
          6724.5,
          6732,
          6724,
          6724.4,
          10147.36146352
        ],
        [
          1539844200000,
          6728.8,
          6736.4,
          6721.4,
          6728.7,
          10242.78352768
        ],
        [
          1539846000000,
          6724.8,
          6728.8,
          6720,
          6724.7,
          10379.2582407
        ],
        [
          1539847800000,
          6723.9,
          6734.8,
          6723,
          6723.8,
          10375.81203315
        ],
        [
          1539849600000,
          6720,
          6720,
          6719.9,
          6719.9,
          10395.9536728
        ]
      ],
      dataGrouping: {
        enabled: true
      }
    }]
  };

  modalRef: BsModalRef;
  // currentType: string;
  // currentTypeId: string;
  currentTickId: number;
  exchangeForm: FormGroup;
  marginForm: FormGroup;
  groups = [];
  accounts = [];
  ticks = [];
  orders = [];

  selectedOrder: number;
  selectedPosition: number;
  currentOrderTab: number;

  public columns: Array<any> = [
    {
      title: 'Instrument',
      className: ['office-header', 'text-success'],
      name: 'pair',
      filtering: { sort: 'asc', placeholder: 'Filter by pair' }
    },
    { title: 'Last', name: 'last', filtering: { filterString: '', placeholder: 'Filter by pair' } },
    { title: '24h%', name: 'daily_change', filtering: { filterString: '', placeholder: 'Filter by pair' } },
    { title: 'Vol USD', name: 'volume', filtering: { filterString: '', placeholder: 'Filter by pair' } },
  ];

  public config: any = {
    sorting: { columns: this.columns },
    className: ['table-striped', 'table-bordered', 'table-sm']
  };

  enums = {
    'buy': 0,
    'sell': 1,
    'stop': 0,
    'market': 1,
    'limit': 2,
    'exchange': 0,
    'margin': 1,
  };

  orderType = ['buy', 'sell'];
  orderOType = ['stop', 'market', 'limit'];
  orderMType = ['exchange', 'margin'];

  constructor(
    private modalService: BsModalService,
    private groupsService: GroupsService,
    private accountService: AccountService,
    private orderService: OrderService,
    public tickService: TickService,
    private route: ActivatedRoute,
    private router: Router,
  ) { }

  ngOnInit() {
    this.route.params.subscribe(params => {
      this.orderService.tradeType = params['type'];
      this.orderService.tradeTypeId = params['id'];
      this.selectTab(0);

      this.fetchOrders();
    });

    this.fetchTicks();

    // @todo POXEL!
    // setInterval(() => {
    //   this.fetchTicks();
    // }, 5000);
    // setInterval(() => {
    //   this.fetchOrders();
    // }, 5000);

    this.groupsService.getGroups()
      .subscribe(groups => {
        this.groups = groups;
      }
    );

    this.accountService.getAccounts()
      .subscribe(accounts => {
        this.accounts = accounts;
      }
    );

    this.exchangeForm = new FormGroup({
      o_type: new FormControl('limit', [<any>Validators.required]),
      price: new FormControl(0),
      amount: new FormControl('', [<any>Validators.required]),
    });

    this.marginForm = new FormGroup({
      o_type: new FormControl('limit', [<any>Validators.required]),
      price: new FormControl(0),
      amount: new FormControl('', [<any>Validators.required]),
    });
  }

  get order() {
    let array;
    if (this.orderService.tradeType === 'group') {
      array = this.groups;
    } else {
      array = this.accounts;
    }

    return {
      id: this.orderService.tradeTypeId,
      type: this.orderService.tradeType,
      groupByPair: true,
    };
  }

  tickSettings(template: TemplateRef<any>, tickId) {
    this.currentTickId = tickId;
    this.openModal(template);
  }

  openModal(template: TemplateRef<any>, params = {}) {
    this.modalRef = this.modalService.show(template, params);
  }

  openConfirmModal(template: TemplateRef<any>) {
    this.openModal(template, { class: 'modal-sm' });
  }

  selectTab(tab_id: number) {
    this.currentOrderTab = tab_id;
  }

  // get groups() {
  //   return this.accountService.getAccounts();
  // }

  // get accounts() {
  //   return this.accountService.getAccounts();
  // }

  get tick() {
    return this.ticks[this.currentTickId];
  }

  fetchTicks() {
    this.tickService.getTicks().subscribe(
      ticks => {
        ticks.sort((a: any, b: any) => {
          if (a.pair < b.pair) {
            return -1;
          } else if (a.pair > b.pair) {
            return 1;
          } else {
            return 0;
          }
        });

        this.ticks = ticks;
      }
    );
  }

  fetchOrders() {

    this.orderService.orders = [];
    this.orderService.positions = [];

    if (this.orderService.tradeType === 'group') {
      this.orderService.getGroupOrders(this.orderService.tradeTypeId, this.order.groupByPair)
        .subscribe(
          orders => {
            if (orders !== null && orders.length > 0) {
              this.orderService.orders = orders;
            }
          }
        );


      this.orderService.getGroupPositions(this.orderService.tradeTypeId, this.order.groupByPair)
        .subscribe(
          positions => {
            if (positions !== null && positions.length > 0) {
              this.orderService.positions = positions;
            }
          }
        );

    } else {
      this.orderService.getAccountOrders(this.orderService.tradeTypeId, this.order.groupByPair)
        .subscribe(
          orders => {
            if (orders !== null && orders.length > 0) {
              this.orderService.orders = orders;
            }
          }
        );

      this.orderService.getAccountPositions(this.orderService.tradeTypeId, this.order.groupByPair)
        .subscribe(
          positions => {
            if (positions !== null && positions.length > 0) {
              this.orderService.positions = positions;
            }
          }
        );
    }
  }

  changeType(type, current_type_id) {
    this.orderService.tradeTypeId = current_type_id;
    this.orderService.tradeType = type;
    this.fetchOrders();
    this.router.navigate([`/trading/${ type }/${ current_type_id }`]);
  }

  get selectedGroup() {
    return this.orderService.tradeType === 'group' ? this.orderService.tradeTypeId : '';
  }

  get selectedAccount() {
    return this.orderService.tradeType === 'account' ? this.orderService.tradeTypeId : '';
  }

  placeOrder(direction, type, model) {
    const order: Order = {
      amount: model.amount,
      open_price: model.price,
      pair: this.tick.pair,
      type: {
        context: this.enums[type],
        direction: this.enums[direction],
        type: this.enums[model.o_type],
      }
    };

    if (this.orderService.tradeType === 'group') {
      this.orderService.placeGroupOrder(this.orderService.tradeTypeId, order)
        .subscribe(
          data => {
            this.fetchOrders();
          }
        );
    } else {
      this.orderService.placeAccountOrder(this.orderService.tradeTypeId, order)
        .subscribe(
          data => {
            this.fetchOrders();
          }
        );
    }

  }

  buyExchange(model: Exchange, isValid: boolean) {
    if (isValid) {
      this.placeOrder('buy', 'exchange', model);
      this.modalRef.hide();
    }

  }

  sellExchange(model: Exchange, isValid: boolean) {
    if (isValid) {
      this.placeOrder('sell', 'exchange', model);
      this.modalRef.hide();
    }

  }

  buyMargin(model: Margin, isValid: boolean) {
    if (isValid) {
      this.placeOrder('buy', 'margin', model);
      this.modalRef.hide();
    }

  }

  sellMargin(model: Margin, isValid: boolean) {
    if (isValid) {
      this.placeOrder('sell', 'margin', model);
      this.modalRef.hide();
    }

  }

  modify() {
    // code ...
  }

  confirm(): void {
    console.log('Confirmed!');
    console.log(this.currentOrderTab);
    this.modalRef.hide();
  }

  decline(): void {
    console.log('Declined!');
    console.log(this.currentOrderTab);
    this.modalRef.hide();
  }
}
